// lib/wrapper.ts
var bookmarkletAddress = `javascript:${`(()=>{var w={context:void 0,registry:void 0};function ue(e){w.context=e}function Ge(){return{...w.context,id:\`\${w.context.id}\${w.context.count++}-\`,count:0}}var _e=(e,n)=>e===n,At=Symbol("solid-proxy"),vt=Symbol("solid-track"),Pt=Symbol("solid-dev-component"),B={equals:_e},fe=null,Ue=Se,T=1,R=2,pe={owned:null,cleanups:null,context:null,owner:null},W={},h=null,l=null,D=null,V=null,p=null,x=null,C=null,_=0;function me(e,n){let t=p,r=h,s=e.length===0,i=n===void 0?r:n,o=s?pe:{owned:null,cleanups:null,context:i?i.context:null,owner:i},c=s?e:()=>e(()=>A(()=>N(o)));h=o,p=null;try{return E(c,!0)}finally{p=t,h=r}}function v(e,n){n=n?Object.assign({},B,n):B;let t={value:e,observers:null,observerSlots:null,comparator:n.equals||void 0},r=s=>(typeof s=="function"&&(l&&l.running&&l.sources.has(t)?s=s(t.tValue):s=s(t.value)),xe(t,s));return[we.bind(t),r]}function ae(e,n,t){let r=z(e,n,!0,T);D&&l&&l.running?x.push(r):q(r)}function L(e,n,t){let r=z(e,n,!1,T);D&&l&&l.running?x.push(r):q(r)}function $(e,n,t){t=t?Object.assign({},B,t):B;let r=z(e,n,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=t.equals||void 0,D&&l&&l.running?(r.tState=T,x.push(r)):q(r),we.bind(r)}function Ye(e){return e&&typeof e=="object"&&"then"in e}function ye(e,n,t){let r,s,i;arguments.length===2&&typeof n=="object"||arguments.length===1?(r=!0,s=e,i=n||{}):(r=e,s=n,i=t||{});let o=null,c=W,u=null,f=!1,d=!1,a="initialValue"in i,g=typeof r=="function"&&$(r),m=new Set,[k,M]=(i.storage||v)(i.initialValue),[O,Re]=v(void 0),[qe,Be]=v(void 0,{equals:!1}),[oe,le]=v(a?"ready":"unresolved");if(w.context){u=\`\${w.context.id}\${w.context.count++}\`;let y;i.ssrLoadFrom==="initial"?c=i.initialValue:w.load&&(y=w.load(u))&&(c=y)}function j(y,b,S,I){return o===y&&(o=null,I!==void 0&&(a=!0),(y===c||b===c)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(I,{value:b})),c=W,l&&y&&f?(l.promises.delete(y),f=!1,E(()=>{l.running=!0,ce(b,S)},!1)):ce(b,S)),b}function ce(y,b){E(()=>{b===void 0&&M(()=>y),le(b!==void 0?"errored":a?"ready":"unresolved"),Re(b);for(let S of m.keys())S.decrement();m.clear()},!1)}function Y(){let y=X&&Xe(X),b=k(),S=O();if(S!==void 0&&!o)throw S;return p&&!p.user&&y&&ae(()=>{qe(),o&&(y.resolved&&l&&f?l.promises.add(o):m.has(y)||(y.increment(),m.add(y)))}),b}function K(y=!0){if(y!==!1&&d)return;d=!1;let b=g?g():r;if(f=l&&l.running,b==null||b===!1){j(o,A(k));return}l&&o&&l.promises.delete(o);let S=c!==W?c:A(()=>s(b,{value:k(),refetching:y}));return Ye(S)?(o=S,"value"in S?(S.status==="success"?j(o,S.value,void 0,b):j(o,void 0,void 0,b),S):(d=!0,queueMicrotask(()=>d=!1),E(()=>{le(a?"refreshing":"pending"),Be()},!1),S.then(I=>j(S,I,void 0,b),I=>j(S,void 0,Ee(I),b)))):(j(o,S,void 0,b),S)}return Object.defineProperties(Y,{state:{get:()=>oe()},error:{get:()=>O()},loading:{get(){let y=oe();return y==="pending"||y==="refreshing"}},latest:{get(){if(!a)return Y();let y=O();if(y&&!o)throw y;return k()}}}),g?ae(()=>K(!1)):K(!1),[Y,{refetch:K,mutate:M}]}function A(e){if(!V&&p===null)return e();let n=p;p=null;try{return V?V.untrack(e):e()}finally{p=n}}function be(e){return h===null||(h.cleanups===null?h.cleanups=[e]:h.cleanups.push(e)),e}function Ke(e){if(l&&l.running)return e(),l.done;let n=p,t=h;return Promise.resolve().then(()=>{p=n,h=t;let r;return(D||X)&&(r=l||(l={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise(s=>r.resolve=s)),r.running=!0),E(e,!1),p=h=null,r?r.done:void 0})}var[Ot,de]=v(!1);function We(e,n){let t=Symbol("context");return{id:t,Provider:Ze(t),defaultValue:e}}function Xe(e){return h&&h.context&&h.context[e.id]!==void 0?h.context[e.id]:e.defaultValue}function Qe(e){let n=$(e),t=$(()=>Q(n()));return t.toArray=()=>{let r=t();return Array.isArray(r)?r:r!=null?[r]:[]},t}var X;function we(){let e=l&&l.running;if(this.sources&&(e?this.tState:this.state))if((e?this.tState:this.state)===T)q(this);else{let n=x;x=null,E(()=>G(this),!1),x=n}if(p){let n=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(n)):(p.sources=[this],p.sourceSlots=[n]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return e&&l.sources.has(this)?this.tValue:this.value}function xe(e,n,t){let r=l&&l.running&&l.sources.has(e)?e.tValue:e.value;if(!e.comparator||!e.comparator(r,n)){if(l){let s=l.running;(s||!t&&l.sources.has(e))&&(l.sources.add(e),e.tValue=n),s||(e.value=n)}else e.value=n;e.observers&&e.observers.length&&E(()=>{for(let s=0;s<e.observers.length;s+=1){let i=e.observers[s],o=l&&l.running;o&&l.disposed.has(i)||((o?!i.tState:!i.state)&&(i.pure?x.push(i):C.push(i),i.observers&&ke(i)),o?i.tState=T:i.state=T)}if(x.length>1e6)throw x=[],new Error},!1)}return n}function q(e){if(!e.fn)return;N(e);let n=_;he(e,l&&l.running&&l.sources.has(e)?e.tValue:e.value,n),l&&!l.running&&l.sources.has(e)&&queueMicrotask(()=>{E(()=>{l&&(l.running=!0),p=h=e,he(e,e.tValue,n),p=h=null},!1)})}function he(e,n,t){let r,s=h,i=p;p=h=e;try{r=e.fn(n)}catch(o){return e.pure&&(l&&l.running?(e.tState=T,e.tOwned&&e.tOwned.forEach(N),e.tOwned=void 0):(e.state=T,e.owned&&e.owned.forEach(N),e.owned=null)),e.updatedAt=t+1,Z(o)}finally{p=i,h=s}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?xe(e,r,!0):l&&l.running&&e.pure?(l.sources.add(e),e.tValue=r):e.value=r,e.updatedAt=t)}function z(e,n,t,r=T,s){let i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:h,context:h?h.context:null,pure:t};if(l&&l.running&&(i.state=0,i.tState=r),h===null||h!==pe&&(l&&l.running&&h.pure?h.tOwned?h.tOwned.push(i):h.tOwned=[i]:h.owned?h.owned.push(i):h.owned=[i]),V&&i.fn){let[o,c]=v(void 0,{equals:!1}),u=V.factory(i.fn,c);be(()=>u.dispose());let f=()=>Ke(c).then(()=>d.dispose()),d=V.factory(i.fn,f);i.fn=a=>(o(),l&&l.running?d.track(a):u.track(a))}return i}function J(e){let n=l&&l.running;if((n?e.tState:e.state)===0)return;if((n?e.tState:e.state)===R)return G(e);if(e.suspense&&A(e.suspense.inFallback))return e.suspense.effects.push(e);let t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<_);){if(n&&l.disposed.has(e))return;(n?e.tState:e.state)&&t.push(e)}for(let r=t.length-1;r>=0;r--){if(e=t[r],n){let s=e,i=t[r+1];for(;(s=s.owner)&&s!==i;)if(l.disposed.has(s))return}if((n?e.tState:e.state)===T)q(e);else if((n?e.tState:e.state)===R){let s=x;x=null,E(()=>G(e,t[0]),!1),x=s}}}function E(e,n){if(x)return e();let t=!1;n||(x=[]),C?t=!0:C=[],_++;try{let r=e();return ze(t),r}catch(r){t||(C=null),x=null,Z(r)}}function ze(e){if(x&&(D&&l&&l.running?Je(x):Se(x),x=null),e)return;let n;if(l){if(!l.promises.size&&!l.queue.size){let r=l.sources,s=l.disposed;C.push.apply(C,l.effects),n=l.resolve;for(let i of C)"tState"in i&&(i.state=i.tState),delete i.tState;l=null,E(()=>{for(let i of s)N(i);for(let i of r){if(i.value=i.tValue,i.owned)for(let o=0,c=i.owned.length;o<c;o++)N(i.owned[o]);i.tOwned&&(i.owned=i.tOwned),delete i.tValue,delete i.tOwned,i.tState=0}de(!1)},!1)}else if(l.running){l.running=!1,l.effects.push.apply(l.effects,C),C=null,de(!0);return}}let t=C;C=null,t.length&&E(()=>Ue(t),!1),n&&n()}function Se(e){for(let n=0;n<e.length;n++)J(e[n])}function Je(e){for(let n=0;n<e.length;n++){let t=e[n],r=l.queue;r.has(t)||(r.add(t),D(()=>{r.delete(t),E(()=>{l.running=!0,J(t)},!1),l&&(l.running=!1)}))}}function G(e,n){let t=l&&l.running;t?e.tState=0:e.state=0;for(let r=0;r<e.sources.length;r+=1){let s=e.sources[r];if(s.sources){let i=t?s.tState:s.state;i===T?s!==n&&(!s.updatedAt||s.updatedAt<_)&&J(s):i===R&&G(s,n)}}}function ke(e){let n=l&&l.running;for(let t=0;t<e.observers.length;t+=1){let r=e.observers[t];(n?!r.tState:!r.state)&&(n?r.tState=R:r.state=R,r.pure?x.push(r):C.push(r),r.observers&&ke(r))}}function N(e){let n;if(e.sources)for(;e.sources.length;){let t=e.sources.pop(),r=e.sourceSlots.pop(),s=t.observers;if(s&&s.length){let i=s.pop(),o=t.observerSlots.pop();r<s.length&&(i.sourceSlots[o]=r,s[r]=i,t.observerSlots[r]=o)}}if(l&&l.running&&e.pure){if(e.tOwned){for(n=e.tOwned.length-1;n>=0;n--)N(e.tOwned[n]);delete e.tOwned}Ce(e,!0)}else if(e.owned){for(n=e.owned.length-1;n>=0;n--)N(e.owned[n]);e.owned=null}if(e.cleanups){for(n=e.cleanups.length-1;n>=0;n--)e.cleanups[n]();e.cleanups=null}l&&l.running?e.tState=0:e.state=0}function Ce(e,n){if(n||(e.tState=0,l.disposed.add(e)),e.owned)for(let t=0;t<e.owned.length;t++)Ce(e.owned[t])}function Ee(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ge(e,n,t){try{for(let r of n)r(e)}catch(r){Z(r,t&&t.owner||null)}}function Z(e,n=h){let t=fe&&n&&n.context&&n.context[fe],r=Ee(e);if(!t)throw r;C?C.push({fn(){ge(r,t,n)},state:T}):ge(r,t,n)}function Q(e){if(typeof e=="function"&&!e.length)return Q(e());if(Array.isArray(e)){let n=[];for(let t=0;t<e.length;t++){let r=Q(e[t]);Array.isArray(r)?n.push.apply(n,r):n.push(r)}return n}return e}function Ze(e,n){return function(r){let s;return L(()=>s=A(()=>(h.context={...h.context,[e]:r.value},Qe(()=>r.children))),void 0),s}}var Lt=Symbol("fallback");var et=!1;function ee(e,n){if(et&&w.context){let t=w.context;ue(Ge());let r=A(()=>e(n||{}));return ue(t),r}return A(()=>e(n||{}))}var tt=e=>\`Stale read from <\${e}>.\`;function te(e){let n=e.keyed,t=$(()=>e.when,void 0,{equals:(r,s)=>n?r===s:!r==!s});return $(()=>{let r=t();if(r){let s=e.children;return typeof s=="function"&&s.length>0?A(()=>s(n?r:()=>{if(!A(t))throw tt("Show");return e.when})):s}return e.fallback},void 0,void 0)}var Mt=We();var rt=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],st=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...rt]),it=new Set(["innerHTML","textContent","innerText","children"]),ot=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),lt=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function ct(e,n){let t=lt[e];return typeof t=="object"?t[n]?t.$:void 0:t}var ut=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Oe=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),ft={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function at(e,n,t){let r=t.length,s=n.length,i=r,o=0,c=0,u=n[s-1].nextSibling,f=null;for(;o<s||c<i;){if(n[o]===t[c]){o++,c++;continue}for(;n[s-1]===t[i-1];)s--,i--;if(s===o){let d=i<r?c?t[c-1].nextSibling:t[i-c]:u;for(;c<i;)e.insertBefore(t[c++],d)}else if(i===c)for(;o<s;)(!f||!f.has(n[o]))&&n[o].remove(),o++;else if(n[o]===t[i-1]&&t[c]===n[s-1]){let d=n[--s].nextSibling;e.insertBefore(t[c++],n[o++].nextSibling),e.insertBefore(t[--i],d),n[s]=t[i]}else{if(!f){f=new Map;let a=c;for(;a<i;)f.set(t[a],a++)}let d=f.get(n[o]);if(d!=null)if(c<d&&d<i){let a=o,g=1,m;for(;++a<s&&a<i&&!((m=f.get(n[a]))==null||m!==d+g);)g++;if(g>d-c){let k=n[o];for(;c<d;)e.insertBefore(t[c++],k)}else e.replaceChild(t[c++],n[o++])}else o++;else n[o++].remove()}}}var Te="_$DX_DELEGATE";function Le(e,n,t,r={}){let s;return me(i=>{s=i,n===document?e():se(n,e(),n.firstChild?null:void 0,t)},r.owner),()=>{s(),n.textContent=""}}function dt(e,n=window.document){let t=n[Te]||(n[Te]=new Set);for(let r=0,s=e.length;r<s;r++){let i=e[r];t.has(i)||(t.add(i),n.addEventListener(i,wt))}}function ne(e,n,t){w.context&&e.isConnected||(t==null?e.removeAttribute(n):e.setAttribute(n,t))}function ht(e,n,t,r){w.context&&e.isConnected||(r==null?e.removeAttributeNS(n,t):e.setAttributeNS(n,t,r))}function gt(e,n){w.context&&e.isConnected||(n==null?e.removeAttribute("class"):e.className=n)}function pt(e,n,t,r){if(r)Array.isArray(t)?(e[\`$$\${n}\`]=t[0],e[\`$$\${n}Data\`]=t[1]):e[\`$$\${n}\`]=t;else if(Array.isArray(t)){let s=t[0];e.addEventListener(n,t[0]=i=>s.call(e,t[1],i))}else e.addEventListener(n,t)}function mt(e,n,t={}){let r=Object.keys(n||{}),s=Object.keys(t),i,o;for(i=0,o=s.length;i<o;i++){let c=s[i];!c||c==="undefined"||n[c]||(Ae(e,c,!1),delete t[c])}for(i=0,o=r.length;i<o;i++){let c=r[i],u=!!n[c];!c||c==="undefined"||t[c]===u||!u||(Ae(e,c,!0),t[c]=u)}return t}function yt(e,n,t){if(!n)return t?ne(e,"style"):n;let r=e.style;if(typeof n=="string")return r.cssText=n;typeof t=="string"&&(r.cssText=t=void 0),t||(t={}),n||(n={});let s,i;for(i in t)n[i]==null&&r.removeProperty(i),delete t[i];for(i in n)s=n[i],s!==t[i]&&(r.setProperty(i,s),t[i]=s);return t}function Me(e,n={},t,r){let s={};return r||L(()=>s.children=H(e,n.children,s.children)),L(()=>n.ref&&n.ref(e)),L(()=>ie(e,n,t,!0,s,!0)),s}function Ne(e,n){let t=e[n];return Object.defineProperty(e,n,{get(){return t()},enumerable:!0}),e}function se(e,n,t,r){if(t!==void 0&&!r&&(r=[]),typeof n!="function")return H(e,n,r,t);L(s=>H(e,n(),s,t),r)}function ie(e,n,t,r,s={},i=!1){n||(n={});for(let o in s)if(!(o in n)){if(o==="children")continue;s[o]=ve(e,o,null,s[o],t,i)}for(let o in n){if(o==="children"){r||H(e,n.children);continue}let c=n[o];s[o]=ve(e,o,c,s[o],t,i)}}function bt(e){return e.toLowerCase().replace(/-([a-z])/g,(n,t)=>t.toUpperCase())}function Ae(e,n,t){let r=n.trim().split(/\\s+/);for(let s=0,i=r.length;s<i;s++)e.classList.toggle(r[s],t)}function ve(e,n,t,r,s,i){let o,c,u,f,d;if(n==="style")return yt(e,t,r);if(n==="classList")return mt(e,t,r);if(t===r)return r;if(n==="ref")i||t(e);else if(n.slice(0,3)==="on:"){let a=n.slice(3);r&&e.removeEventListener(a,r),t&&e.addEventListener(a,t)}else if(n.slice(0,10)==="oncapture:"){let a=n.slice(10);r&&e.removeEventListener(a,r,!0),t&&e.addEventListener(a,t,!0)}else if(n.slice(0,2)==="on"){let a=n.slice(2).toLowerCase(),g=ut.has(a);if(!g&&r){let m=Array.isArray(r)?r[0]:r;e.removeEventListener(a,m)}(g||t)&&(pt(e,a,t,g),g&&dt([a]))}else if(n.slice(0,5)==="attr:")ne(e,n.slice(5),t);else if((d=n.slice(0,5)==="prop:")||(u=it.has(n))||!s&&((f=ct(n,e.tagName))||(c=st.has(n)))||(o=e.nodeName.includes("-"))){if(d)n=n.slice(5),c=!0;else if(w.context&&e.isConnected)return t;n==="class"||n==="className"?gt(e,t):o&&!c&&!u?e[bt(n)]=t:e[f||n]=t}else{let a=s&&n.indexOf(":")>-1&&ft[n.split(":")[0]];a?ht(e,a,n,t):ne(e,ot[n]||n,t)}return t}function wt(e){let n=\`$$\${e.type}\`,t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),w.registry&&!w.done&&(w.done=_$HY.done=!0);t;){let r=t[n];if(r&&!t.disabled){let s=t[\`\${n}Data\`];if(s!==void 0?r.call(t,s,e):r.call(t,e),e.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function H(e,n,t,r,s){let i=!!w.context&&e.isConnected;if(i){!t&&(t=[...e.childNodes]);let u=[];for(let f=0;f<t.length;f++){let d=t[f];d.nodeType===8&&d.data.slice(0,2)==="!$"?d.remove():u.push(d)}t=u}for(;typeof t=="function";)t=t();if(n===t)return t;let o=typeof n,c=r!==void 0;if(e=c&&t[0]&&t[0].parentNode||e,o==="string"||o==="number"){if(i)return t;if(o==="number"&&(n=n.toString()),c){let u=t[0];u&&u.nodeType===3?u.data!==n&&(u.data=n):u=document.createTextNode(n),t=F(e,t,r,u)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||o==="boolean"){if(i)return t;t=F(e,t,r)}else{if(o==="function")return L(()=>{let u=n();for(;typeof u=="function";)u=u();t=H(e,u,t,r)}),()=>t;if(Array.isArray(n)){let u=[],f=t&&Array.isArray(t);if(re(u,n,t,s))return L(()=>t=H(e,u,t,r,!0)),()=>t;if(i){if(!u.length)return t;if(r===void 0)return[...e.childNodes];let d=u[0],a=[d];for(;(d=d.nextSibling)!==r;)a.push(d);return t=a}if(u.length===0){if(t=F(e,t,r),c)return t}else f?t.length===0?Pe(e,u,r):at(e,t,u):(t&&F(e),Pe(e,u));t=u}else if(n.nodeType){if(i&&n.parentNode)return t=c?[n]:n;if(Array.isArray(t)){if(c)return t=F(e,t,r,n);F(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function re(e,n,t,r){let s=!1;for(let i=0,o=n.length;i<o;i++){let c=n[i],u=t&&t[e.length],f;if(!(c==null||c===!0||c===!1))if((f=typeof c)=="object"&&c.nodeType)e.push(c);else if(Array.isArray(c))s=re(e,c,u)||s;else if(f==="function")if(r){for(;typeof c=="function";)c=c();s=re(e,Array.isArray(c)?c:[c],Array.isArray(u)?u:[u])||s}else e.push(c),s=!0;else{let d=String(c);u&&u.nodeType===3&&u.data===d?e.push(u):e.push(document.createTextNode(d))}}return s}function Pe(e,n,t=null){for(let r=0,s=n.length;r<s;r++)e.insertBefore(n[r],t)}function F(e,n,t,r){if(t===void 0)return e.textContent="";let s=r||document.createTextNode("");if(n.length){let i=!1;for(let o=n.length-1;o>=0;o--){let c=n[o];if(s!==c){let u=c.parentNode===e;!i&&!o?u?e.replaceChild(s,c):e.insertBefore(s,t):u&&c.remove()}else i=!0}}else e.insertBefore(s,t);return[s]}var Yt=Symbol();function xt(){return document.querySelector("#movie_player")}function $e(){return xt().getPlayerResponse().captions.playerCaptionsTracklistRenderer.captionTracks}function St(e,n){let r=document.querySelector("video").addTextTrack("captions",e,e);function s(i){return Math.round(i*10)/10}return n.forEach(({start:i,end:o},c)=>{for(let u=s(i);u<s(o);u=s(u+.1))r.addCue(new VTTCue(u,u+.1,n[c].html))}),r.mode="showing",r}function je(e,n){let t=[];return new DOMParser().parseFromString(n.replace(/&amp;/g,"&"),"text/xml").querySelectorAll("text").forEach(r=>{let s=parseInt(r.getAttribute("start")??"");if(t.length){let i=t[t.length-1];i.start==i.end&&(i.end=s)}r.innerHTML.trim().length&&t.push({start:s,end:parseInt(r.getAttribute("dur")??"")+s,html:r.innerHTML})}),St(e,t)}var Ie={odd:"o",even:"l",red:"e"};var U=Symbol("hyper-element");function Ct(e){function n(){let t=[].slice.call(arguments),r,s=!1;for(;Array.isArray(t[0]);)t=t[0];t[0][U]&&t.unshift(n.Fragment),typeof t[0]=="string"&&u(t);let i=()=>{for(;t.length;)o(t.shift());return r};return i[U]=!0,i;function o(f){let d=typeof f;if(f!=null){if(d==="string")r?r.appendChild(document.createTextNode(f)):c(f);else if(d==="number"||d==="boolean"||f instanceof Date||f instanceof RegExp)r.appendChild(document.createTextNode(f.toString()));else if(Array.isArray(f))for(let a=0;a<f.length;a++)o(f[a]);else if(f instanceof Element)e.insert(r,f,s?null:void 0);else if(d==="object"){let a=!1,g=Object.getOwnPropertyDescriptors(f);for(let m in g)m!=="ref"&&m.slice(0,2)!=="on"&&typeof g[m].value=="function"?(e.dynamicProperty(f,m),a=!0):g[m].get&&(a=!0);a?e.spread(r,f,r instanceof SVGElement,!!t.length):e.assign(r,f,r instanceof SVGElement,!!t.length)}else if(d==="function")if(r){for(;f[U];)f=f();e.insert(r,f,s?null:void 0)}else{let a,g=t[0];(g==null||typeof g=="object"&&!Array.isArray(g)&&!(g instanceof Element))&&(a=t.shift()),a||(a={}),t.length&&(a.children=t.length>1?t:t[0]);let m=Object.getOwnPropertyDescriptors(a);for(let k in m)if(Array.isArray(m[k].value)){let M=m[k].value;a[k]=()=>{for(let O=0;O<M.length;O++)for(;M[O][U];)M[O]=M[O]();return M},e.dynamicProperty(a,k)}else typeof m[k].value=="function"&&!m[k].value.length&&e.dynamicProperty(a,k);r=e.createComponent(f,a),t=[]}}}function c(f){let d=f.split(/([\\.#]?[^\\s#.]+)/);/^\\.|#/.test(d[1])&&(r=document.createElement("div"));for(let a=0;a<d.length;a++){let g=d[a],m=g.substring(1,g.length);g&&(r?g[0]==="."?r.classList.add(m):g[0]==="#"&&r.setAttribute("id",m):r=e.SVGElements.has(g)?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g))}}function u(f){for(let d=1;d<f.length;d++)if(typeof f[d]=="function"){s=!0;return}else Array.isArray(f[d])&&u(f[d])}}return n.Fragment=t=>t.children,n}var Ve=Ct({spread:Me,assign:ie,insert:se,createComponent:ee,dynamicProperty:Ne,SVGElements:Oe});function De(e){return e.children}function P(e,n){return Ve(e,n)}async function Et({languageCode:e,baseUrl:n}){let r=await(await fetch(n)).text();return je(e,r)}function Fe({caption:e}){let{languageCode:n,kind:t}=e;if(t==="asr")return null;let[r]=ye(e,Et);return P("label",{class:Ie.red,children:[P("input",{type:"checkbox",checked:r()?.mode==="showing",onchange:s=>r().mode=s.currentTarget.checked?"showing":"hidden"}),n]})}var Tt=".o{color:red}.l{color:#00f}.e{color:#ff0;font-weight:bolder}
";function He(){let[e,n]=v($e()),[t,r]=v(!0);return P(De,{children:[P("style",{children:Tt}),P(te,{when:t(),children:e().map(s=>P(Fe,{caption:s}))})]})}Le(He,document.getElementById("ytControlPanel"));})();
`}`;
var ccButtonSelector = ".ytp-subtitles-button.ytp-button";
setInterval(() => {
  const multiLangButtons = document.querySelectorAll(ccButtonSelector);
  if (multiLangButtons.length == 1) {
    const multiLangButton = multiLangButtons[0];
    let aButton = document.querySelector(`a${ccButtonSelector}`);
    if (aButton) {
      if (aButton.style.display == "none")
        aButton.style.display = multiLangButton.style.display;
    } else {
      aButton = multiLangButton.cloneNode(true);
      aButton.setAttribute("href", bookmarkletAddress);
      multiLangButton.insertAdjacentHTML("beforebegin", "<span id=ytControlPanel></span>" + aButton.outerHTML.replace("<button ", "<a "));
    }
  }
}, 700);
