// lib/wrapper.ts
var bookmarkletAddress = `javascript:${`(()=>{var w={context:void 0,registry:void 0};function ce(e){w.context=e}function Be(){return{...w.context,id:\`\${w.context.id}\${w.context.count++}-\`,count:0}}var Ge=(e,n)=>e===n,Et=Symbol("solid-proxy"),Tt=Symbol("solid-track"),At=Symbol("solid-dev-component"),B={equals:Ge},ue=null,_e=xe,T=1,H=2,ge={owned:null,cleanups:null,context:null,owner:null},W={},h=null,l=null,V=null,I=null,p=null,x=null,C=null,_=0;function pe(e,n){let t=p,r=h,i=e.length===0,s=n===void 0?r:n,o=i?ge:{owned:null,cleanups:null,context:s?s.context:null,owner:s},c=i?e:()=>e(()=>P(()=>N(o)));h=o,p=null;try{return E(c,!0)}finally{p=t,h=r}}function A(e,n){n=n?Object.assign({},B,n):B;let t={value:e,observers:null,observerSlots:null,comparator:n.equals||void 0},r=i=>(typeof i=="function"&&(l&&l.running&&l.sources.has(t)?i=i(t.tValue):i=i(t.value)),we(t,i));return[be.bind(t),r]}function fe(e,n,t){let r=z(e,n,!0,T);V&&l&&l.running?x.push(r):q(r)}function O(e,n,t){let r=z(e,n,!1,T);V&&l&&l.running?x.push(r):q(r)}function R(e,n,t){t=t?Object.assign({},B,t):B;let r=z(e,n,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=t.equals||void 0,V&&l&&l.running?(r.tState=T,x.push(r)):q(r),be.bind(r)}function Ue(e){return e&&typeof e=="object"&&"then"in e}function me(e,n,t){let r,i,s;arguments.length===2&&typeof n=="object"||arguments.length===1?(r=!0,i=e,s=n||{}):(r=e,i=n,s=t||{});let o=null,c=W,u=null,f=!1,d=!1,a="initialValue"in s,g=typeof r=="function"&&R(r),m=new Set,[k,M]=(s.storage||A)(s.initialValue),[v,He]=A(void 0),[Re,qe]=A(void 0,{equals:!1}),[ie,oe]=A(a?"ready":"unresolved");if(w.context){u=\`\${w.context.id}\${w.context.count++}\`;let y;s.ssrLoadFrom==="initial"?c=s.initialValue:w.load&&(y=w.load(u))&&(c=y)}function $(y,b,S,j){return o===y&&(o=null,j!==void 0&&(a=!0),(y===c||b===c)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(j,{value:b})),c=W,l&&y&&f?(l.promises.delete(y),f=!1,E(()=>{l.running=!0,le(b,S)},!1)):le(b,S)),b}function le(y,b){E(()=>{b===void 0&&M(()=>y),oe(b!==void 0?"errored":a?"ready":"unresolved"),He(b);for(let S of m.keys())S.decrement();m.clear()},!1)}function Y(){let y=X&&We(X),b=k(),S=v();if(S!==void 0&&!o)throw S;return p&&!p.user&&y&&fe(()=>{Re(),o&&(y.resolved&&l&&f?l.promises.add(o):m.has(y)||(y.increment(),m.add(y)))}),b}function K(y=!0){if(y!==!1&&d)return;d=!1;let b=g?g():r;if(f=l&&l.running,b==null||b===!1){$(o,P(k));return}l&&o&&l.promises.delete(o);let S=c!==W?c:P(()=>i(b,{value:k(),refetching:y}));return Ue(S)?(o=S,"value"in S?(S.status==="success"?$(o,S.value,void 0,b):$(o,void 0,void 0,b),S):(d=!0,queueMicrotask(()=>d=!1),E(()=>{oe(a?"refreshing":"pending"),qe()},!1),S.then(j=>$(S,j,void 0,b),j=>$(S,void 0,Ce(j),b)))):($(o,S,void 0,b),S)}return Object.defineProperties(Y,{state:{get:()=>ie()},error:{get:()=>v()},loading:{get(){let y=ie();return y==="pending"||y==="refreshing"}},latest:{get(){if(!a)return Y();let y=v();if(y&&!o)throw y;return k()}}}),g?fe(()=>K(!1)):K(!1),[Y,{refetch:K,mutate:M}]}function P(e){if(!I&&p===null)return e();let n=p;p=null;try{return I?I.untrack(e):e()}finally{p=n}}function ye(e){return h===null||(h.cleanups===null?h.cleanups=[e]:h.cleanups.push(e)),e}function Ye(e){if(l&&l.running)return e(),l.done;let n=p,t=h;return Promise.resolve().then(()=>{p=n,h=t;let r;return(V||X)&&(r=l||(l={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise(i=>r.resolve=i)),r.running=!0),E(e,!1),p=h=null,r?r.done:void 0})}var[vt,ae]=A(!1);function Ke(e,n){let t=Symbol("context");return{id:t,Provider:Je(t),defaultValue:e}}function We(e){return h&&h.context&&h.context[e.id]!==void 0?h.context[e.id]:e.defaultValue}function Xe(e){let n=R(e),t=R(()=>Q(n()));return t.toArray=()=>{let r=t();return Array.isArray(r)?r:r!=null?[r]:[]},t}var X;function be(){let e=l&&l.running;if(this.sources&&(e?this.tState:this.state))if((e?this.tState:this.state)===T)q(this);else{let n=x;x=null,E(()=>G(this),!1),x=n}if(p){let n=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(n)):(p.sources=[this],p.sourceSlots=[n]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return e&&l.sources.has(this)?this.tValue:this.value}function we(e,n,t){let r=l&&l.running&&l.sources.has(e)?e.tValue:e.value;if(!e.comparator||!e.comparator(r,n)){if(l){let i=l.running;(i||!t&&l.sources.has(e))&&(l.sources.add(e),e.tValue=n),i||(e.value=n)}else e.value=n;e.observers&&e.observers.length&&E(()=>{for(let i=0;i<e.observers.length;i+=1){let s=e.observers[i],o=l&&l.running;o&&l.disposed.has(s)||((o?!s.tState:!s.state)&&(s.pure?x.push(s):C.push(s),s.observers&&Se(s)),o?s.tState=T:s.state=T)}if(x.length>1e6)throw x=[],new Error},!1)}return n}function q(e){if(!e.fn)return;N(e);let n=_;de(e,l&&l.running&&l.sources.has(e)?e.tValue:e.value,n),l&&!l.running&&l.sources.has(e)&&queueMicrotask(()=>{E(()=>{l&&(l.running=!0),p=h=e,de(e,e.tValue,n),p=h=null},!1)})}function de(e,n,t){let r,i=h,s=p;p=h=e;try{r=e.fn(n)}catch(o){return e.pure&&(l&&l.running?(e.tState=T,e.tOwned&&e.tOwned.forEach(N),e.tOwned=void 0):(e.state=T,e.owned&&e.owned.forEach(N),e.owned=null)),e.updatedAt=t+1,Z(o)}finally{p=s,h=i}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?we(e,r,!0):l&&l.running&&e.pure?(l.sources.add(e),e.tValue=r):e.value=r,e.updatedAt=t)}function z(e,n,t,r=T,i){let s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:h,context:h?h.context:null,pure:t};if(l&&l.running&&(s.state=0,s.tState=r),h===null||h!==ge&&(l&&l.running&&h.pure?h.tOwned?h.tOwned.push(s):h.tOwned=[s]:h.owned?h.owned.push(s):h.owned=[s]),I&&s.fn){let[o,c]=A(void 0,{equals:!1}),u=I.factory(s.fn,c);ye(()=>u.dispose());let f=()=>Ye(c).then(()=>d.dispose()),d=I.factory(s.fn,f);s.fn=a=>(o(),l&&l.running?d.track(a):u.track(a))}return s}function J(e){let n=l&&l.running;if((n?e.tState:e.state)===0)return;if((n?e.tState:e.state)===H)return G(e);if(e.suspense&&P(e.suspense.inFallback))return e.suspense.effects.push(e);let t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<_);){if(n&&l.disposed.has(e))return;(n?e.tState:e.state)&&t.push(e)}for(let r=t.length-1;r>=0;r--){if(e=t[r],n){let i=e,s=t[r+1];for(;(i=i.owner)&&i!==s;)if(l.disposed.has(i))return}if((n?e.tState:e.state)===T)q(e);else if((n?e.tState:e.state)===H){let i=x;x=null,E(()=>G(e,t[0]),!1),x=i}}}function E(e,n){if(x)return e();let t=!1;n||(x=[]),C?t=!0:C=[],_++;try{let r=e();return Qe(t),r}catch(r){t||(C=null),x=null,Z(r)}}function Qe(e){if(x&&(V&&l&&l.running?ze(x):xe(x),x=null),e)return;let n;if(l){if(!l.promises.size&&!l.queue.size){let r=l.sources,i=l.disposed;C.push.apply(C,l.effects),n=l.resolve;for(let s of C)"tState"in s&&(s.state=s.tState),delete s.tState;l=null,E(()=>{for(let s of i)N(s);for(let s of r){if(s.value=s.tValue,s.owned)for(let o=0,c=s.owned.length;o<c;o++)N(s.owned[o]);s.tOwned&&(s.owned=s.tOwned),delete s.tValue,delete s.tOwned,s.tState=0}ae(!1)},!1)}else if(l.running){l.running=!1,l.effects.push.apply(l.effects,C),C=null,ae(!0);return}}let t=C;C=null,t.length&&E(()=>_e(t),!1),n&&n()}function xe(e){for(let n=0;n<e.length;n++)J(e[n])}function ze(e){for(let n=0;n<e.length;n++){let t=e[n],r=l.queue;r.has(t)||(r.add(t),V(()=>{r.delete(t),E(()=>{l.running=!0,J(t)},!1),l&&(l.running=!1)}))}}function G(e,n){let t=l&&l.running;t?e.tState=0:e.state=0;for(let r=0;r<e.sources.length;r+=1){let i=e.sources[r];if(i.sources){let s=t?i.tState:i.state;s===T?i!==n&&(!i.updatedAt||i.updatedAt<_)&&J(i):s===H&&G(i,n)}}}function Se(e){let n=l&&l.running;for(let t=0;t<e.observers.length;t+=1){let r=e.observers[t];(n?!r.tState:!r.state)&&(n?r.tState=H:r.state=H,r.pure?x.push(r):C.push(r),r.observers&&Se(r))}}function N(e){let n;if(e.sources)for(;e.sources.length;){let t=e.sources.pop(),r=e.sourceSlots.pop(),i=t.observers;if(i&&i.length){let s=i.pop(),o=t.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,t.observerSlots[r]=o)}}if(l&&l.running&&e.pure){if(e.tOwned){for(n=e.tOwned.length-1;n>=0;n--)N(e.tOwned[n]);delete e.tOwned}ke(e,!0)}else if(e.owned){for(n=e.owned.length-1;n>=0;n--)N(e.owned[n]);e.owned=null}if(e.cleanups){for(n=e.cleanups.length-1;n>=0;n--)e.cleanups[n]();e.cleanups=null}l&&l.running?e.tState=0:e.state=0}function ke(e,n){if(n||(e.tState=0,l.disposed.add(e)),e.owned)for(let t=0;t<e.owned.length;t++)ke(e.owned[t])}function Ce(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function he(e,n,t){try{for(let r of n)r(e)}catch(r){Z(r,t&&t.owner||null)}}function Z(e,n=h){let t=ue&&n&&n.context&&n.context[ue],r=Ce(e);if(!t)throw r;C?C.push({fn(){he(r,t,n)},state:T}):he(r,t,n)}function Q(e){if(typeof e=="function"&&!e.length)return Q(e());if(Array.isArray(e)){let n=[];for(let t=0;t<e.length;t++){let r=Q(e[t]);Array.isArray(r)?n.push.apply(n,r):n.push(r)}return n}return e}function Je(e,n){return function(r){let i;return O(()=>i=P(()=>(h.context={...h.context,[e]:r.value},Xe(()=>r.children))),void 0),i}}var Pt=Symbol("fallback");var Ze=!1;function ee(e,n){if(Ze&&w.context){let t=w.context;ce(Be());let r=P(()=>e(n||{}));return ce(t),r}return P(()=>e(n||{}))}var Ot=Ke();var tt=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],nt=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...tt]),rt=new Set(["innerHTML","textContent","innerText","children"]),st=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),it=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function ot(e,n){let t=it[e];return typeof t=="object"?t[n]?t.$:void 0:t}var lt=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Pe=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),ct={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function ut(e,n,t){let r=t.length,i=n.length,s=r,o=0,c=0,u=n[i-1].nextSibling,f=null;for(;o<i||c<s;){if(n[o]===t[c]){o++,c++;continue}for(;n[i-1]===t[s-1];)i--,s--;if(i===o){let d=s<r?c?t[c-1].nextSibling:t[s-c]:u;for(;c<s;)e.insertBefore(t[c++],d)}else if(s===c)for(;o<i;)(!f||!f.has(n[o]))&&n[o].remove(),o++;else if(n[o]===t[s-1]&&t[c]===n[i-1]){let d=n[--i].nextSibling;e.insertBefore(t[c++],n[o++].nextSibling),e.insertBefore(t[--s],d),n[i]=t[s]}else{if(!f){f=new Map;let a=c;for(;a<s;)f.set(t[a],a++)}let d=f.get(n[o]);if(d!=null)if(c<d&&d<s){let a=o,g=1,m;for(;++a<i&&a<s&&!((m=f.get(n[a]))==null||m!==d+g);)g++;if(g>d-c){let k=n[o];for(;c<d;)e.insertBefore(t[c++],k)}else e.replaceChild(t[c++],n[o++])}else o++;else n[o++].remove()}}}var Ee="_$DX_DELEGATE";function Oe(e,n,t,r={}){let i;return pe(s=>{i=s,n===document?e():re(n,e(),n.firstChild?null:void 0,t)},r.owner),()=>{i(),n.textContent=""}}function ft(e,n=window.document){let t=n[Ee]||(n[Ee]=new Set);for(let r=0,i=e.length;r<i;r++){let s=e[r];t.has(s)||(t.add(s),n.addEventListener(s,yt))}}function te(e,n,t){w.context&&e.isConnected||(t==null?e.removeAttribute(n):e.setAttribute(n,t))}function at(e,n,t,r){w.context&&e.isConnected||(r==null?e.removeAttributeNS(n,t):e.setAttributeNS(n,t,r))}function dt(e,n){w.context&&e.isConnected||(n==null?e.removeAttribute("class"):e.className=n)}function ht(e,n,t,r){if(r)Array.isArray(t)?(e[\`$$\${n}\`]=t[0],e[\`$$\${n}Data\`]=t[1]):e[\`$$\${n}\`]=t;else if(Array.isArray(t)){let i=t[0];e.addEventListener(n,t[0]=s=>i.call(e,t[1],s))}else e.addEventListener(n,t)}function gt(e,n,t={}){let r=Object.keys(n||{}),i=Object.keys(t),s,o;for(s=0,o=i.length;s<o;s++){let c=i[s];!c||c==="undefined"||n[c]||(Te(e,c,!1),delete t[c])}for(s=0,o=r.length;s<o;s++){let c=r[s],u=!!n[c];!c||c==="undefined"||t[c]===u||!u||(Te(e,c,!0),t[c]=u)}return t}function pt(e,n,t){if(!n)return t?te(e,"style"):n;let r=e.style;if(typeof n=="string")return r.cssText=n;typeof t=="string"&&(r.cssText=t=void 0),t||(t={}),n||(n={});let i,s;for(s in t)n[s]==null&&r.removeProperty(s),delete t[s];for(s in n)i=n[s],i!==t[s]&&(r.setProperty(s,i),t[s]=i);return t}function Le(e,n={},t,r){let i={};return r||O(()=>i.children=F(e,n.children,i.children)),O(()=>n.ref&&n.ref(e)),O(()=>se(e,n,t,!0,i,!0)),i}function Me(e,n){let t=e[n];return Object.defineProperty(e,n,{get(){return t()},enumerable:!0}),e}function re(e,n,t,r){if(t!==void 0&&!r&&(r=[]),typeof n!="function")return F(e,n,r,t);O(i=>F(e,n(),i,t),r)}function se(e,n,t,r,i={},s=!1){n||(n={});for(let o in i)if(!(o in n)){if(o==="children")continue;i[o]=Ae(e,o,null,i[o],t,s)}for(let o in n){if(o==="children"){r||F(e,n.children);continue}let c=n[o];i[o]=Ae(e,o,c,i[o],t,s)}}function mt(e){return e.toLowerCase().replace(/-([a-z])/g,(n,t)=>t.toUpperCase())}function Te(e,n,t){let r=n.trim().split(/\\s+/);for(let i=0,s=r.length;i<s;i++)e.classList.toggle(r[i],t)}function Ae(e,n,t,r,i,s){let o,c,u,f,d;if(n==="style")return pt(e,t,r);if(n==="classList")return gt(e,t,r);if(t===r)return r;if(n==="ref")s||t(e);else if(n.slice(0,3)==="on:"){let a=n.slice(3);r&&e.removeEventListener(a,r),t&&e.addEventListener(a,t)}else if(n.slice(0,10)==="oncapture:"){let a=n.slice(10);r&&e.removeEventListener(a,r,!0),t&&e.addEventListener(a,t,!0)}else if(n.slice(0,2)==="on"){let a=n.slice(2).toLowerCase(),g=lt.has(a);if(!g&&r){let m=Array.isArray(r)?r[0]:r;e.removeEventListener(a,m)}(g||t)&&(ht(e,a,t,g),g&&ft([a]))}else if(n.slice(0,5)==="attr:")te(e,n.slice(5),t);else if((d=n.slice(0,5)==="prop:")||(u=rt.has(n))||!i&&((f=ot(n,e.tagName))||(c=nt.has(n)))||(o=e.nodeName.includes("-"))){if(d)n=n.slice(5),c=!0;else if(w.context&&e.isConnected)return t;n==="class"||n==="className"?dt(e,t):o&&!c&&!u?e[mt(n)]=t:e[f||n]=t}else{let a=i&&n.indexOf(":")>-1&&ct[n.split(":")[0]];a?at(e,a,n,t):te(e,st[n]||n,t)}return t}function yt(e){let n=\`$$\${e.type}\`,t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),w.registry&&!w.done&&(w.done=_$HY.done=!0);t;){let r=t[n];if(r&&!t.disabled){let i=t[\`\${n}Data\`];if(i!==void 0?r.call(t,i,e):r.call(t,e),e.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function F(e,n,t,r,i){let s=!!w.context&&e.isConnected;if(s){!t&&(t=[...e.childNodes]);let u=[];for(let f=0;f<t.length;f++){let d=t[f];d.nodeType===8&&d.data.slice(0,2)==="!$"?d.remove():u.push(d)}t=u}for(;typeof t=="function";)t=t();if(n===t)return t;let o=typeof n,c=r!==void 0;if(e=c&&t[0]&&t[0].parentNode||e,o==="string"||o==="number"){if(s)return t;if(o==="number"&&(n=n.toString()),c){let u=t[0];u&&u.nodeType===3?u.data!==n&&(u.data=n):u=document.createTextNode(n),t=D(e,t,r,u)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||o==="boolean"){if(s)return t;t=D(e,t,r)}else{if(o==="function")return O(()=>{let u=n();for(;typeof u=="function";)u=u();t=F(e,u,t,r)}),()=>t;if(Array.isArray(n)){let u=[],f=t&&Array.isArray(t);if(ne(u,n,t,i))return O(()=>t=F(e,u,t,r,!0)),()=>t;if(s){if(!u.length)return t;if(r===void 0)return[...e.childNodes];let d=u[0],a=[d];for(;(d=d.nextSibling)!==r;)a.push(d);return t=a}if(u.length===0){if(t=D(e,t,r),c)return t}else f?t.length===0?ve(e,u,r):ut(e,t,u):(t&&D(e),ve(e,u));t=u}else if(n.nodeType){if(s&&n.parentNode)return t=c?[n]:n;if(Array.isArray(t)){if(c)return t=D(e,t,r,n);D(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function ne(e,n,t,r){let i=!1;for(let s=0,o=n.length;s<o;s++){let c=n[s],u=t&&t[e.length],f;if(!(c==null||c===!0||c===!1))if((f=typeof c)=="object"&&c.nodeType)e.push(c);else if(Array.isArray(c))i=ne(e,c,u)||i;else if(f==="function")if(r){for(;typeof c=="function";)c=c();i=ne(e,Array.isArray(c)?c:[c],Array.isArray(u)?u:[u])||i}else e.push(c),i=!0;else{let d=String(c);u&&u.nodeType===3&&u.data===d?e.push(u):e.push(document.createTextNode(d))}}return i}function ve(e,n,t=null){for(let r=0,i=n.length;r<i;r++)e.insertBefore(n[r],t)}function D(e,n,t,r){if(t===void 0)return e.textContent="";let i=r||document.createTextNode("");if(n.length){let s=!1;for(let o=n.length-1;o>=0;o--){let c=n[o];if(i!==c){let u=c.parentNode===e;!s&&!o?u?e.replaceChild(i,c):e.insertBefore(i,t):u&&c.remove()}else s=!0}}else e.insertBefore(i,t);return[i]}var Ut=Symbol();function bt(){return document.querySelector("#movie_player")}function Ne(){return bt().getPlayerResponse().captions.playerCaptionsTracklistRenderer.captionTracks}function wt(e,n){let r=document.querySelector("video").addTextTrack("captions",e,e);function i(s){return Math.round(s*10)/10}return n.forEach(({start:s,end:o},c)=>{for(let u=i(s);u<i(o);u=i(u+.1))r.addCue(new VTTCue(u,u+.1,n[c].html))}),r.mode="showing",r}function $e(e,n){let t=[];return new DOMParser().parseFromString(n.replace(/&amp;/g,"&"),"text/xml").querySelectorAll("text").forEach(r=>{let i=parseInt(r.getAttribute("start")??"");if(t.length){let s=t[t.length-1];s.start==s.end&&(s.end=i)}r.innerHTML.trim().length&&t.push({start:i,end:parseInt(r.getAttribute("dur")??"")+i,html:r.innerHTML})}),wt(e,t)}var je={odd:"o",even:"l",red:"e"};var U=Symbol("hyper-element");function St(e){function n(){let t=[].slice.call(arguments),r,i=!1;for(;Array.isArray(t[0]);)t=t[0];t[0][U]&&t.unshift(n.Fragment),typeof t[0]=="string"&&u(t);let s=()=>{for(;t.length;)o(t.shift());return r};return s[U]=!0,s;function o(f){let d=typeof f;if(f!=null){if(d==="string")r?r.appendChild(document.createTextNode(f)):c(f);else if(d==="number"||d==="boolean"||f instanceof Date||f instanceof RegExp)r.appendChild(document.createTextNode(f.toString()));else if(Array.isArray(f))for(let a=0;a<f.length;a++)o(f[a]);else if(f instanceof Element)e.insert(r,f,i?null:void 0);else if(d==="object"){let a=!1,g=Object.getOwnPropertyDescriptors(f);for(let m in g)m!=="ref"&&m.slice(0,2)!=="on"&&typeof g[m].value=="function"?(e.dynamicProperty(f,m),a=!0):g[m].get&&(a=!0);a?e.spread(r,f,r instanceof SVGElement,!!t.length):e.assign(r,f,r instanceof SVGElement,!!t.length)}else if(d==="function")if(r){for(;f[U];)f=f();e.insert(r,f,i?null:void 0)}else{let a,g=t[0];(g==null||typeof g=="object"&&!Array.isArray(g)&&!(g instanceof Element))&&(a=t.shift()),a||(a={}),t.length&&(a.children=t.length>1?t:t[0]);let m=Object.getOwnPropertyDescriptors(a);for(let k in m)if(Array.isArray(m[k].value)){let M=m[k].value;a[k]=()=>{for(let v=0;v<M.length;v++)for(;M[v][U];)M[v]=M[v]();return M},e.dynamicProperty(a,k)}else typeof m[k].value=="function"&&!m[k].value.length&&e.dynamicProperty(a,k);r=e.createComponent(f,a),t=[]}}}function c(f){let d=f.split(/([\\.#]?[^\\s#.]+)/);/^\\.|#/.test(d[1])&&(r=document.createElement("div"));for(let a=0;a<d.length;a++){let g=d[a],m=g.substring(1,g.length);g&&(r?g[0]==="."?r.classList.add(m):g[0]==="#"&&r.setAttribute("id",m):r=e.SVGElements.has(g)?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g))}}function u(f){for(let d=1;d<f.length;d++)if(typeof f[d]=="function"){i=!0;return}else Array.isArray(f[d])&&u(f[d])}}return n.Fragment=t=>t.children,n}var Ie=St({spread:Le,assign:se,insert:re,createComponent:ee,dynamicProperty:Me,SVGElements:Pe});function Ve(e){return e.children}function L(e,n){return Ie(e,n)}async function kt({languageCode:e,baseUrl:n}){let r=await(await fetch(n)).text();return $e(e,r)}function De({caption:e}){let{languageCode:n,kind:t}=e;if(t==="asr")return null;let[r]=me(e,kt);return L("label",{class:je.red,children:[L("input",{type:"checkbox",checked:r()?.mode==="showing",onchange:i=>r().mode=i.currentTarget.checked?"showing":"hidden"}),n]})}var Ct=".o{color:red}.l{color:#00f}.e{color:#ff0;font-weight:bolder}
";function Fe(){let[e,n]=A(Ne()),[t,r]=A(!0);return L(Ve,{children:[L("style",{children:Ct}),e().map(i=>L(De,{caption:i}))]})}Oe(Fe,document.getElementById("ytControlPanel"));})();
`}`;
var ccButtonSelector = ".ytp-subtitles-button.ytp-button";
setInterval(() => {
  const multiLangButtons = document.querySelectorAll(ccButtonSelector);
  if (multiLangButtons.length == 1) {
    const multiLangButton = multiLangButtons[0];
    let aButton = document.querySelector(`a${ccButtonSelector}`);
    if (aButton) {
      if (aButton.style.display == "none")
        aButton.style.display = multiLangButton.style.display;
    } else {
      aButton = multiLangButton.cloneNode(true);
      aButton.setAttribute("href", bookmarkletAddress);
      multiLangButton.insertAdjacentHTML("beforebegin", "<span id=ytControlPanel></span>" + aButton.outerHTML.replace("<button ", "<a "));
    }
  }
}, 700);
